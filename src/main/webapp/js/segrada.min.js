function escapeHTML(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}!function(c){function n(n){return function(t,e,a){c.ajax({url:n+encodeURIComponent(t)}).done(function(t){a(t)})}}function e(){return function(t,e,a){let n=urlSegradaNodeSearch+encodeURIComponent(t);const i=c(".sg-node-search").filter(":focus"),o=c("#"+i.attr("data-select-id")+" option").filter(":selected");t=o.attr(i.attr("data-attr"));null!=t&&0<t.length&&(n+="&tags="+encodeURIComponent(t));c.ajax({url:n}).done(function(t){a(t)})}}function t(t){return t.replace(/;jsessionid=([^?]*)/,"")}urlSegradaPictogramSearch=t(urlSegradaPictogramSearch),urlSegradaPictogramFile=t(urlSegradaPictogramFile),urlSegradaTagSearch=t(urlSegradaTagSearch),urlSegradaNodeSearch=t(urlSegradaNodeSearch),urlSegradaFileSearch=t(urlSegradaFileSearch),urlSegradaSourceSearch=t(urlSegradaSourceSearch),urlSegradaRelationAdd=t(urlSegradaRelationAdd);let i=!1;const r=new vis.DataSet([]),s=new vis.DataSet([]);let l=null,o=null,d=null;c.fn.onEnter=function(e){return this.bind("keypress",function(t){(void 0!==t.key&&"Enter"===t.key||13===t.keyCode)&&e.apply(this,[t])}),this};const u=new RegExp(/<([^\s]+).*?id="([^"]*?)".*?>/i);function a(i,e,o,r,t){t=urlSegradaPictogramSearch+encodeURIComponent(t);c.getJSON(t,function(t){const n=[];c.each(t,function(t,e){var a=c("<div/>").text(e.title).html();n.push('<div class="col-xs-1 sg-no-padding-right"><a class="sg-pictogram-modal-link" href="#" data-id="'+e.id+'" data-uid="'+e.uid+'" title="'+a+'"><img src="'+urlSegradaPictogramFile+e.uid+'" width="24" height="24" alt="'+a+'" /></a></div>')}),e.html("<div class='row'>"+n.join("")+"</div>"),c("a",e).click(function(t){var e=c(this).attr("data-id"),a=c(this).attr("data-uid"),n=c("<div/>").text(c(this).attr("title")).html();c("#value-"+o,r).val(e),c("#preview-"+o,r).html('<img src="'+urlSegradaPictogramFile+a+'" width="24" height="24" alt="'+n+'" /> '+n),c("#clear-"+o,r).show(),t.preventDefault(),i.modal("hide")})}).fail(function(){alert("ERROR")})}function h(t){c.get(t,function(t){var e=t.match(u);null!=e&&2<=e.length&&c("#"+e[2]).remove();const a=c("#sg-data");a.prepend(t);const n=a.children(":first");g(n),c("html, body").animate({scrollTop:n.offset().top},500)}).fail(function(){alert("ERROR")})}function g(s){s=s||c("body"),c(".sg-data").addClass("sg-dynamic-data"),c(".sg-headbox-right").show(),c(".sg-dynamic-hide").hide(),c(".sg-data-add",s).click(function(t){h(c(this).attr("href")),t.preventDefault()}),c(".sg-control-form",s).ajaxForm({beforeSubmit:function(t,e,a){let n=e.attr("data-target-id");void 0!==n&&null!==n&&0!==n.length||(n="#sg-control",p());const i=c(n);return i.wrapInner("<div class='sg-disabled'></div>"),i.prepend(c("#sg-wait").html()),!0},success:function(t,e,a,n){let i=n.attr("data-target-id");void 0!==i&&null!=i&&0!==i.length||(i="#sg-control");const o=c(i);o.html(t),g(o)},error:function(t,e,a,n){let i=n.attr("data-target-id");void 0!==i&&null!=i&&0!==i.length||(i="#sg-control");const o=c(i);o.html(t.statusText),alert("Error "+t.status+"\n"+t.statusText)}}),c(".sg-submit-form",s).change(function(){c(this).closest("form").submit()}),c(".sg-control-set",s).click(function(t){const e=c(this);let a=e.attr("data-target-id");void 0!==a&&null!=a&&0!=a.length||(a="#sg-control",p());const n=c(a);n.wrapInner("<div class='sg-disabled'></div>"),n.prepend(c("#sg-wait").html()),c.get(e.attr("href"),function(t){n.html(t),g(n)}).fail(function(){alert("ERROR")}),t.preventDefault()}),c("[data-data-dblclick]",s).dblclick(function(){c.get(c(this).attr("data-data-dblclick"),function(t){var e=t.match(u);null!=e&&2<=e.length&&c("#"+e[2]).remove();const a=c("#sg-data");a.prepend(t);const n=a.children(":first");g(n),c("html, body").animate({scrollTop:n.offset().top},500)}).fail(function(){alert("ERROR")})}),c("tr [data-confirm]",s).click(function(t){const e=c(this);if(confirm(e.attr("data-confirm"))){const a=e.closest("tr");a.addClass("sg-disabled"),c.get(e.attr("href"),function(t){a.slideUp("fast",function(){a.remove()})}).fail(function(){alert("ERROR")})}t.preventDefault()}),c(".sg-control-confirm",s).click(function(t){const e=c(this);if(confirm(e.attr("data-confirm"))){const a=c("#"+e.attr("data-target"));a.addClass("sg-disabled"),c.get(e.attr("href"),function(t){a.fadeOut("slow",function(){a.remove()})}).fail(function(){alert("ERROR")})}t.preventDefault()}),c(".sg-replace-content",s).on("shown.bs.tab",function(t){const e=c(c(this).attr("href"));var a=c(this).attr("data-url");c.get(a,function(t){e.html(t),g(e)}).fail(function(){alert("ERROR")}),c(this).removeClass("sg-replace-content"),c(this).unbind("shown.bs.tab")}),c(".sg-data-close",s).click(function(t){c(this).parent().parent().fadeOut("fast",function(){c(this).remove()})}),c("input.sg-fileupload",s).fileinput({showUpload:!1}),c("input.sg-fileupload-small",s).fileinput({showUpload:!1,previewSettings:{image:{width:"auto",height:"24px"}}}),c(".sg-pictogram-modal",s).on("shown.bs.modal",function(){const i=c(this),o=i.attr("id"),r=c("#container-"+o,i),t=c("#filter-"+o,i);t.on("input propertychange paste",function(){a(i,r,o,s,c(this).val())}).onEnter(function(){const t=c(".sg-pictogram-modal-link",r).first();var e,a,n;0<t.length&&(e=t.attr("data-id"),a=t.attr("data-id"),n=c("<div/>").text(t.attr("title")).html(),c("#value-"+o,s).val(e),c("#preview-"+o,s).html('<img src="'+urlSegradaPictogramFile+a+'" width="24" height="24" alt="'+n+'" /> '+n),c("#clear-"+o,s).show(),i.modal("hide"))}),""===t.val()&&a(i,r,o,s,"")}),c(".sg-pictogram-chooser",s).click(function(t){c("#"+c(this).attr("data-id")).modal("show"),t.preventDefault()}),c(".sg-pictogram-clearer",s).click(function(t){var e=c(this).attr("data-id");c("#value-"+e,s).val(""),c("#preview-"+e,s).html(""),c(this).hide(),t.preventDefault()}),c(".sg-source-ref-modal",s).on("shown.bs.modal",function(){const o=c(this),e=c(".modal-body",o);c.get(o.attr("data-href"),function(t){e.html(t),c("select.sg-colorpicker",o).simplepicker({theme:"fontawesome"}),c("form",e).ajaxForm({beforeSubmit:function(t,e,a){return e.wrapInner("<div class='sg-disabled'></div>"),e.prepend(c("#sg-wait").html()),!0},success:function(t,e,a,n){const i=c(o.attr("data-target"));i.html(t),g(i),o.modal("hide"),c(".modal-backdrop").remove(),c("body").removeClass("modal-open")},error:function(t,e,a,n){alert("Error "+t.status+"\n"+t.statusText)}})}).fail(function(){alert("ERROR")})}).on("hidden.bs.modal",function(){c(".modal-body",c(this)).html(c("#sg-wait").html())}),c(".sg-source-ref-editor",s).click(function(t){const e=c("#"+c(this).attr("data-id"));e.attr("data-href",c(this).attr("href")),e.modal("show"),t.preventDefault()}),c(".sg-taglist-contract",s).each(function(){const t=c("span",c(this));1<t.length&&(t.hide().filter(":first-child").show().after('<span class="sg-tag-show label label-default"><i class="fa fa-plus"></i></span>'),c("span.sg-tag-show",c(this)).click(function(){c(this).remove(),t.show()}))}),c("select.sg-colorpicker",s).simplepicker({theme:"fontawesome"}),c("select.sg-tags",s).each(function(){const e=c(this);e.tagsinput({trimValue:!0,confirmKeys:[13],typeaheadjs:{name:"tags",limit:25,displayKey:"title",valueKey:"title",source:n(urlSegradaTagSearch),async:!0}}),e.on("itemRemoved",function(t){e.find('option[value="'+t.item+'"]').remove()})}),c("input.sg-node-search",s).each(function(){const t=c(this),a=c("#"+t.attr("data-id"));t.typeahead({hint:!0,highlight:!0,minLength:1},{async:!0,name:"node",limit:25,displayKey:"title",valueKey:"id",source:e()}).bind("typeahead:selected",function(t,e){a.val(e.id)}).bind("keyup",function(){this.value||a.val("")})}),c("input.sg-file-search",s).each(function(){const t=c(this),a=c("#"+t.attr("data-id"));t.typeahead({hint:!0,highlight:!0,minLength:1},{async:!0,name:"file",limit:25,displayKey:"title",valueKey:"id",source:n(urlSegradaFileSearch)}).bind("typeahead:selected",function(t,e){a.val(e.id)}).bind("keyup",function(){this.value||a.val("")})}),c("input.sg-source-search",s).each(function(){const t=c(this),a=c("#"+t.attr("data-id"));t.typeahead({hint:!0,highlight:!0,minLength:1},{async:!0,name:"source",limit:25,displayKey:"title",valueKey:"id",source:n(urlSegradaSourceSearch)}).bind("typeahead:selected",function(t,e){a.val(e.id)}).bind("keyup",function(){this.value||a.val("")})}),c(".sg-link-external",s).click(function(t){var e=c(this).attr("href");const a=window.open(e,"_blank");a.focus(),t.preventDefault()}),c("form.sg-data-form",s).ajaxForm({beforeSubmit:function(t,e,a){return c(":input",e).attr("disabled",!0),c("button.btn-primary",e).append(" "+c("#sg-wait-btn").html()),!0},success:function(t,e,a,n){let i=n.attr("data-id");void 0!==i&&(i=c("#"+i)),i=i||n,i.replaceWith(t);t=t.match(u);null!=t&&2<=t.length&&g(c("#"+t[2]))},error:function(t,e,a,n){c(":input",n).attr("disabled",!1),alert("Error "+t.status+"\n"+t.statusText)}}),c("form.sg-simple-form",s).ajaxForm({beforeSubmit:function(t,e,a){c(":input",e).attr("disabled",!0);let n=e.attr("data-id");return void 0!==n&&(n=c("#"+n)),n=n||e,n.html(c("#sg-wait")),!0},success:function(t,e,a,n){let i=n.attr("data-id");void 0!==i&&(i=c("#"+i)),i=i||n,i.html(t),c(":input",n).attr("disabled",!1)},error:function(t,e,a,n){c(":input",n).attr("disabled",!1),alert("Error "+t.status+"\n"+t.statusText)}}),c(".sg-periods").each(function(){const i=c(this),o=i.attr("id"),t=c(".sg-period-form",i);c(".sg-period-add",i).click(function(t){c(this).hide();const e=c(".sg-period-form-add",i);e.show(),c(".sg-period-form-period",e).change(function(t){c(this).is(":checked")?c(".sg-period-toggle",e).show():c(".sg-period-toggle",e).hide()}),t.preventDefault()}),t.ajaxForm({beforeSubmit:function(t,e,a){return i.addClass("disabled"),!0},success:function(t,e,a,n){i.replaceWith(t),g(c("#"+o))},error:function(t,e,a,n){i.removeClass("disabled"),alert("Error "+t.status+"\n"+t.statusText)}})}),c(".sg-ajax-modal",s).click(function(t){const e=c("#sg-modal"),a=c(".modal-body-inner",e),n=c(".modal-loading",e);c("h4",e).html(c(this).attr("data-title")),a.html(""),a.hide(),n.show(),e.modal("show"),c.get(c(this).attr("href"),function(t){n.hide(),a.html(t),a.show(),g(a)}).fail(function(){alert("ERROR")}),t.preventDefault()}),c(".sg-ajax-modal-form",s).ajaxForm({beforeSubmit:function(t,e,a){var n=c("#sg-modal");const i=c(".modal-body-inner",n),o=c(".modal-loading",n);return i.hide(),o.show(),!0},success:function(t,e,a,n){var i=c("#sg-modal");const o=c(".modal-body-inner",i),r=c(".modal-loading",i);o.html(t),o.show(),r.hide(),g(o),i=c("#sg-modal"),c(".sg-update-period",i).each(function(){var t=c(this).attr("data-id"),e=c(t);if(0<e.length)for(let t=0;t<3;t++)c("td:eq("+t+")",e).html(c("div:eq("+t+")",c(this)).html())})},error:function(t,e,a,n){var i=c("#sg-modal");const o=c(".modal-body-inner",i),r=c(".modal-loading",i);o.html(t),o.show(),r.hide(),g(o)}}),c(".sg-plain-editor",s).click(function(t){c(c(this).attr("data-editor")).summernote("destroy")}),c(".sg-html-editor",s).each(function(){let t=c("html").attr("lang");"en"===t&&(t="en-US");const e={lang:t},a=c(this),n=c(a.attr("data-editor"));a.attr("checked")&&n.summernote(e),a.click(function(t){n.summernote(e)})}),c(".sg-lg-image",s).each(function(){var t=c(this).attr("id");t&&new Viewer(document.getElementById(t),{navbar:!1,toolbar:{zoomIn:1,zoomOut:1,oneToOne:1,reset:1,prev:0,play:{show:1,size:"large"},next:0,rotateLeft:1,rotateRight:1,flipHorizontal:1,flipVertical:1}})}),c("a.sg-graph-update",s).click(function(t){v(c(this).attr("href")),t.preventDefault()}),c("a.sg-graph-replace",s).click(function(t){b(),v(c(this).attr("href"));var e=c(this).attr("data-title");0!==e.length&&(o=e);e=c(this).attr("data-uid");0!==e.length&&(d=e),t.preventDefault()}),c("div.sg-tag-hierarchy",s).each(function(){var t=c(this);const e=c(".sg-tag-hierarchy-graph",t);c(".sg-child-tags",t).hide(),e.addClass("sg-margin-top sg-margin-bottom");const a=c(".sg-tag-hierarchy-data",t),n=a.attr("data-center");let i=0,o=0,r=[],s=[];c("div",a).each(function(){const t=c(this);var e=t.attr("data-id"),a=t.attr("data-level");r.push({id:e,label:t.html(),level:a,url:t.attr("data-url")}),"0"===a?(s.push({from:e,to:n}),i++):"2"===a&&(s.push({from:n,to:e}),o++)});t=i>o?0===i?1:i:o;e.css({width:"100%",height:50*t+"px",border:"1px solid #ccc"});const l={nodes:new vis.DataSet(r),edges:new vis.DataSet(s)};r=null,s=null;const d=new vis.Network(e.get(0),l,{edges:{smooth:{type:"cubicBezier",forceDirection:"horizontal",roundness:.6}},nodes:{shape:"box"},layout:{hierarchical:{direction:"LR"}}});d.on("doubleClick",function(t){let e=null;0<t.nodes.length&&(null!=(t=l.nodes.get(t.nodes[0]))&&null!=t.url&&(e=t.url)),null!=e&&h(e)})});for(let t=0;t<afterAjaxHooks.length;t++)afterAjaxHooks[t](s)}function f(){if(!i){i=!0;var t=document.getElementById("sg-graph"),e={nodes:r,edges:s},a={locale:c("html").attr("lang"),locales:{de:{edit:"Änderungsmodus",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Verknüpfung hinzufügen",editNode:"Knoten editieren",editEdge:"Verknüpfung editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu platzieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Verknüpfung zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Verknüpfungen mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},en:{edit:"Toggle edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Relation",editNode:"Edit Node",editEdge:"Edit Relation",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the relation to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link relations to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."}},manipulation:{enabled:!0,addNode:!1,addEdge:function(t,e){return h(urlSegradaRelationAdd.replace("XFROMX",t.from.replace(/#([0-9]+):([0-9]+)/,"$1-$2")).replace("XTOX",t.to.replace(/#([0-9]+):([0-9]+)/,"$1-$2")).replace("&amp;","&")),!1},editNode:function(t,e){return!1},editEdge:function(t,e){return!1},deleteNode:function(t,e){return!1},deleteEdge:function(t,e){return!1}},nodes:{shape:"icon",widthConstraint:{maximum:120}},edges:{font:{size:10},labelHighlightBold:!1,arrows:{to:{enabled:!0}}},groups:{node:{},tag:{shape:"box",color:{border:"#5bc0de",background:"#5bc0de",highlight:{background:"#2B7CE9"}},font:{color:"#ffffff",size:12}}},physics:{barnesHut:{springLength:150,damping:.4,avoidOverlap:.5}},layout:{improvedLayout:!0}};l=new vis.Network(t,e,a),l.on("doubleClick",function(t){let e=null;var a;0<t.nodes.length?null!=(a=r.get(t.nodes[0]))&&null!=a.url&&(e=a.url):0<t.edges.length&&(null!=(t=s.get(t.edges[0]))&&null!=t.url&&(e=t.url)),null!=e&&h(e)});const o=c("#sg-graph-context-menu");l.on("oncontext",function(t){t.event&&t.event.preventDefault();const e=l.getNodeAt(t.pointer.DOM);if(e){l.selectNodes([e]);const a=r.get(e);o.css({left:t.event.clientX+"px",top:t.event.clientY+"px"});const n=e.substr(1).replace(":","-"),i=c("a",o);i.each(function(){const t=c(this);t.hasClass("sg-data-add")?t.attr("href",a.url):t.hasClass("sg-graph-update")?t.attr("href",t.attr("data-href").replaceAll("XXUIDXX",n)):t.hasClass("sg-graph-node-fix")?void 0===a.physics||a.physics?(t.show(),t.attr("data-id",e)):t.hide():t.hasClass("sg-graph-node-unfix")&&(void 0===a.physics||a.physics?t.hide():(t.show(),t.attr("data-id",e)))}),i.click(function(){o.hide()}),o.show()}else l.unselectAll()}),c(document).mousedown(function(t){o.is(":visible")&&!o.is(t.target)&&0===o.has(t.target).length&&o.hide()}),c(".sg-graph-node-fix").click(function(t){var e=c(this).attr("data-id");if(e){const a=r.get(e);a.physics=!1,r.update(a)}t.preventDefault()}),c(".sg-graph-node-unfix").click(function(t){var e=c(this).attr("data-id");if(e){const a=r.get(e);a.physics=!0,r.update(a)}t.preventDefault()})}}function p(){const t=c("#sg-toggle-graph");t.hasClass("active")&&(t.removeClass("active"),c(".fa-share-alt-square",t).addClass("fa-share-alt").removeClass("fa-share-alt-square"),l.storePositions(),c("#sg-graph-container").hide(),c("#sg-control").show(),l.destroy(),i=!1)}function m(){const t=c("#sg-toggle-graph");t.hasClass("active")||(t.addClass("active"),c(".fa-share-alt",t).addClass("fa-share-alt-square").removeClass("fa-share-alt"),c("#sg-control").hide(),c("#sg-graph-container").show(),f())}function v(t){var e;null!=t?(m(),function(){const t=c("#sg-graph");t.css("background",'url("'+t.attr("data-bg")+'") no-repeat center center')}(),e=c("#sg-graph-container").attr("data-csrf"),c.ajax({url:t,type:"POST",dataType:"json",headers:{"Content-Type":"application/json","X-CSRF-Token":e},data:JSON.stringify({nodes:r.getIds(),edges:s.getIds()}),success:function(t,e,a){c("#sg-graph").css("background","transparent"),null!=t?null==t.error?(null!=t.nodes&&0<t.nodes.length&&r.update(t.nodes),null!=t.edges&&0<t.edges.length&&s.update(t.edges),null!=t.removeNodes&&0<t.removeNodes.length&&r.remove(t.removeNodes),null!=t.removeEdges&&0<t.removeEdges.length&&s.remove(t.removeEdges),null!=t.highlightNode&&(l.unselectAll(),l.selectNodes([t.highlightNode],!1)),l.fit()):alert(t.error):alert("NULL data")}})):alert("Null url!")}function b(){s.clear(),r.clear(),d="",o=""}c.event.special.destroyed={remove:function(t){t.handler&&t.handler()}},c(document).ready(function(){c("#sg-close-all").click(function(t){c(".sg-data").fadeOut("fast",function(){c(this).remove()}),t.preventDefault()}),c(".sg-locale").click(function(t){c.get(c(this).attr("href"),function(t){var e=c("#sg-base").html();""!==t&&(window.location.href=e)}).fail(function(){alert("ERROR")}),t.preventDefault()}),c("#sg-toggle-graph").click(function(t){(c(this).hasClass("active")?p:m)(),t.preventDefault()}),c("#sg-graph-action-remove").click(function(t){var e=l.getSelection();0<e.edges.length&&s.remove(e.edges),0<e.nodes.length&&r.remove(e.nodes),t.preventDefault()}),c("#sg-graph-action-restart").click(function(t){b(),t.preventDefault()}),c("#sg-graph-action-reload").click(function(t){l.destroy(),i=!1,f(),c.post(c(this).attr("href"),{_csrf:c("#sg-graph-container").attr("data-csrf"),data:JSON.stringify({nodes:r.getIds(),edges:s.getIds()})},function(e){if(e&&e.nodes&&e.nodes.length)for(let t=0;t<e.nodes.length;t++){var a=r.get(e.nodes[t].id);a&&(a.physics||(e.nodes[t].physics=!1),e.nodes[t].x=a.x,e.nodes[t].y=a.y)}r.clear(),s.clear(),r.update(e.nodes),s.update(e.edges)}).fail(function(){alert("ERROR")}),t.preventDefault()}),c("#sg-graph-action-fit").click(function(t){l.fit(),t.preventDefault()}),c("#sg-graph-close").click(function(t){p(),t.preventDefault()}),c("#sg-graph-action-load").click(function(t){c("#sg-graph-modal-load").modal(),t.preventDefault()}),c("#sg-graph-action-save").click(function(t){if(0<r.length){c("#title-sg-graph-save").val(null!==o?o:"");const e=c("#save-as-new-sg-graph-save").parent().parent().parent();null!==d?e.show():e.hide(),c("#sg-graph-modal-save").modal()}t.preventDefault()}),c("#sg-graph-modal-load").on("shown.bs.modal",function(){const n=c(this),i=c(".modal-body",n);i.html(c("#sg-wait").html());var t=n.attr("data-url");c.get(t,function(t){let e=n.attr("data-get-url"),a="";t.forEach(function(t){a+="<li><a href='"+e+t.uid+"' data-uid='"+t.uid+"'>"+t.title+"</a></li>"}),""!=a&&(a="<ul>"+a+"</ul>"),i.html(a),c("a",i).click(function(t){b(),v(c(this).attr("href")),o=c(this).html(),d=c(this).attr("data-uid"),n.modal("hide"),t.preventDefault()})})}),c("#sg-graph-modal-save-frm").submit(function(t){t.preventDefault();const e=c("#title-sg-graph-save").val();let a=d;null!=d&&c("#save-as-new-sg-graph-save").is(":checked")&&(a=null),l.storePositions();const n=[],i=[];r.forEach(function(t){n.push({id:t.id,x:t.x,y:t.y,group:t.group,physics:t.physics})}),s.forEach(function(t){i.push({id:t.id,group:t.group})});c.post(c(this).attr("action"),{_csrf:c("#sg-graph-container").attr("data-csrf"),uid:a,title:e,type:"graph",data:JSON.stringify({nodes:n,edges:i})},function(t){o=e,d=t}).fail(function(){alert("ERROR")}),c("#sg-graph-modal-save").modal("hide")}),g(c("body"))})}(jQuery);
